{
    "quest": "// Decompiled by MAD\nmodule 0x3e88d43a310633152deef7d164dd4273eb2ce8b0ffc0d1ff597ab49fd88908d::quest {\n\n    // ----- Use Statements -----\n\n    use sui::object;\n    use sui::table;\n    use sui::tx_context;\n    use sui::package;\n    use sui::transfer;\n    use sui::clock;\n\n    // ----- Structs -----\n\n    struct QUEST has drop {\n        dummy_field: bool,\n    }\n\n    struct QuestCap has store, key {\n        id: object::UID,\n    }\n\n    struct QuestHouse has key {\n        id: object::UID,\n        claims: table::Table<address, bool>,\n        enabled: bool,\n    }\n\n    struct QuestPass has key {\n        id: object::UID,\n        referrer: address,\n        referee: address,\n        timestamp_ms: u64,\n    }\n\n    // ----- Functions -----\n\n    fun init(\n        quest: QUEST,\n        ctx: &mut tx_context::TxContext\n    ) {\n        package::claim_and_keep<QUEST>(quest, ctx);\n\n        let quest_house = QuestHouse {\n            id: object::new(ctx),\n            claims: table::new<address, bool>(ctx),\n            enabled: true,\n        };\n        transfer::share_object(quest_house);\n\n        let quest_cap = QuestCap {\n            id: object::new(ctx),\n        };\n        transfer::public_transfer(quest_cap, tx_context::sender(ctx));\n    }\n\n    public fun mint(\n        quest_house: &mut QuestHouse,\n        referrer: address,\n        clock: &clock::Clock,\n        ctx: &mut tx_context::TxContext\n    ) {\n        assert!(quest_house.enabled, 3);\n        assert!(\n            !table::contains<address, bool>(&quest_house.claims, tx_context::sender(ctx)),\n            1\n        );\n        assert!(referrer != tx_context::sender(ctx), 2);\n\n        table::add<address, bool>(\n            &mut quest_house.claims,\n            tx_context::sender(ctx),\n            true\n        );\n\n        let quest_pass = QuestPass {\n            id: object::new(ctx),\n            referrer,\n            referee: tx_context::sender(ctx),\n            timestamp_ms: clock::timestamp_ms(clock),\n        };\n\n        transfer::transfer(quest_pass, tx_context::sender(ctx));\n    }\n\n    public fun enable_claims(\n        quest_house: &mut QuestHouse,\n        _quest_cap: &QuestCap\n    ) {\n        quest_house.enabled = true;\n    }\n\n    public fun disable_claims(\n        quest_house: &mut QuestHouse,\n        _quest_cap: &QuestCap\n    ) {\n        quest_house.enabled = false;\n    }\n}"
}